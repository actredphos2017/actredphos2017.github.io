---
layout: note
title: 看上Github，吃定Github
categories: [Git]
description: 学习Git基础命令，并使用Github来同步项目与共享协同
keywords: Git,Github
---

## Git基础

Git是一个强大的代码版本管理系统，当新建项目仓库之后对每一个项目文件的每一步操作都会被Git记录下来，你可以随时恢复到上一步操作与编辑之前，就像Office那种的Ctrl+Z快捷键，可以快速撤回到你的上一步操作，不过Office软件关闭以后再打开，上一次的撤回记录就会消失，然而Git则不会：从项目创建开始每一步你都可以撤回，也可以反撤回。

同时Git支持设置多个分支，这样就可以让多个人同时编辑一个仓库甚至一个文件，编辑完之后再由Git合并到主分支，因而实现多人协作。

在一个项目文件目录下在Git命令行输入`git init`便可对项目进行创建
*(不论里面是否已经存在文件)*
创建之后的项目版本和操作记录都会放在仓库目录下的`.git`文件夹当中，`.git`文件夹就是整个项目的根本，因此要坚决防止`.git`文件夹被误删。

完成创建仓库后就可以对项目当中的文件进行修改了，然而要把历史记录存入git依旧需要两步操作。

![](/img/assets/Git/swdt1.png)

*本地项目文件更改*
后，要把该文件加入到
*暂存区*
，随后再提交到
*仓库*

```sh
#常用命令列表

#加入
git add <文件地址>    #将选中文件加入暂存区
git add -A    #将仓库中所有修改过的文件加入暂存区

#配置个人信息
git config --global user.email <邮箱>
git config --global user.name <昵称>

#提交(首次提交前会提示你配置个人信息)
git commit -m <提交信息>    #提交暂存区到仓库
```

随后如果需要便可将仓库同步至
*远程Git服务器*

详细内容见下节。

## 将本地项目上传至Github

Github是一个开放的Git服务器，普通用户都可以凭借邮箱在[Github网站](https://github.com/)免费注册。

注册好了之后我们该如何把自己的仓库上传至Github的Git服务器呢？

在Github网站上的Repositories标签中创建一个仓库，创建好后进入仓库主页，点击右上角的绿色按钮复制git地址，随后进入我们的本地仓库下输入命令`git remote add origin <git地址>`将本地项目与云端对接。

*注意：如果本地项目是从第三方仓库克隆下来的，就需要先通过`git remote remove origin`来清除git地址再添加自己的git地址*

随后输入`git push`将自己的项目同步至Git服务器。

## Github上项目获取

如果你在Github上看到自己喜欢的项目，或者在使用另外一台设备做项目时，就得把项目从云端弄下来。

进入任意一个项目页，点击右上角的Code，获取git地址，随后在任意位置输入`git clone <git地址>`便可把仓库获取到本地。

*注意：点击Download Zip只会把项目文件获取下来，并不会获取.git文件夹，因此获取到的并不是一个完整的仓库*

若原本的项目发生了更改，到原来设备后需要用`git pull`将仓库与云端同步才能进行操作。

## Git回滚与项目撤回

如果有时出于某些原因不得不将项目回滚或撤回，这也是git的核心能力。

每一次提交(Commit)都会被git获取到，通过`git checkout`回滚到本仓库的上一次Commit。

也可以用`git checkout <文件地址>`将单个文件回滚到上一次Commit。

但如果回滚到上一次Commit还不够，就需要`git reset HEAD^`将仓库恢复到再上一次Commit的状态，这时再`git checkout <文件地址>`就可以把文件回滚到更早的状态。

但要当心此时若`git checkout`可能会让整个项目回滚到更早的状态。

项目回滚后，上传至云端可能会显示冲突，如果你想把自己的项目原封不动的上传上去，就需要`git push -f`强制上传。

也可以用`git branch <分支名>`新建一个分支，Commit后用`git push -u origin <分支名> -f`上传。

## 仓库分支操作、合并分支与处理冲突

多人协作时，需要每个人创建个人分支，完成工作后再合并至主分支，这样才能让协作过程有序而高效。

```sh
git branch    #获取分区列表(带*的为目前所在分支)

git branch <分支名称>    #添加分支

git checkout <分支名称>    #单纯切换到某个分支

git merge <分支名称>    #合并分支

git branch -D <分支名称>    #删除分支
```